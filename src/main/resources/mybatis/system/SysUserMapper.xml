<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE  mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.ityueqiangu.project.system.mapper.SysUserMapper">
    <resultMap id="BaseResultMap" type="com.ityueqiangu.project.system.domain.SysUser">
        <result column="id" property="id" />
        <result column="dept_id" property="deptId" />
        <result column="user_name" property="userName" />
        <result column="password" property="password" />
        <result column="salt" property="salt" />
        <result column="real_name" property="realName" />
        <result column="email" property="email" />
        <result column="avatar" property="avatar" />
        <result column="sex" property="sex" />
        <result column="phone" property="phone" />
        <result column="is_enable" property="isEnable" />
        <result column="is_active" property="isActive" />
        <result column="is_login" property="isLogin" />
        <result column="last_login_time" property="lastLoginTime" />
        <result column="remark" property="remark" />
        <result column="create_time" property="createTime" />
        <result column="create_by" property="createBy" />
        <result column="update_time" property="updateTime" />
        <result column="update_by" property="updateBy" />
    </resultMap>

    <!-- 表字段 -->
    <sql id="baseColumns">
     t.id
    , t.dept_id
    , t.user_name
    , t.password
    , t.salt
    , t.real_name
    , t.email
    , t.avatar
    , t.sex
    , t.phone
    , t.is_enable
    , t.is_active
    , t.is_login
    , t.last_login_time
    , t.remark
    , t.create_time
    , t.create_by
    , t.update_time
    , t.update_by
    </sql>

    <!-- 分页查询 -->
    <select id="selectSysUserList" resultMap="BaseResultMap" parameterType="com.ityueqiangu.project.system.domain.SysUser">
        SELECT
        <include refid="baseColumns" />
        FROM sys_user t
        <trim prefix="WHERE" prefixOverrides="AND | OR">
            <if test="id != null  and id != ''" >
                and t.id= #{id}
            </if>
            <if test="deptId != null  and deptId != ''" >
                and t.dept_id= #{deptId}
            </if>
            <if test="userName != null  and userName != ''" >
                and t.user_name= #{userName}
            </if>
            <if test="password != null  and password != ''" >
                and t.password= #{password}
            </if>
            <if test="salt != null  and salt != ''" >
                and t.salt= #{salt}
            </if>
            <if test="realName != null  and realName != ''" >
                and t.real_name= #{realName}
            </if>
            <if test="email != null  and email != ''" >
                and t.email= #{email}
            </if>
            <if test="avatar != null  and avatar != ''" >
                and t.avatar= #{avatar}
            </if>
            <if test="sex != null  and sex != ''" >
                and t.sex= #{sex}
            </if>
            <if test="phone != null  and phone != ''" >
                and t.phone= #{phone}
            </if>
            <if test="isEnable != null  and isEnable != ''" >
                and t.is_enable= #{isEnable}
            </if>
            <if test="isActive != null  and isActive != ''" >
                and t.is_active= #{isActive}
            </if>
            <if test="isLogin != null  and isLogin != ''" >
                and t.is_login= #{isLogin}
            </if>
            <if test="lastLoginTime != null  and lastLoginTime != ''" >
                and t.last_login_time= #{lastLoginTime}
            </if>
            <if test="remark != null  and remark != ''" >
                and t.remark= #{remark}
            </if>
            <if test="createTime != null  and createTime != ''" >
                and t.create_time= #{createTime}
            </if>
            <if test="createBy != null  and createBy != ''" >
                and t.create_by= #{createBy}
            </if>
            <if test="updateTime != null  and updateTime != ''" >
                and t.update_time= #{updateTime}
            </if>
            <if test="updateBy != null  and updateBy != ''" >
                and t.update_by= #{updateBy}
            </if>
        </trim>
    </select>

    <!-- 根据主键获取单条记录 -->
    <select id="selectSysUserById" resultMap="BaseResultMap" parameterType="String">
        SELECT
        <include refid="baseColumns" />
        FROM sys_user t
        WHERE t.id = #{id}
    </select>

    <!-- 插入不为NULL的字段 -->
    <insert id="insertSysUser" parameterType="com.ityueqiangu.project.system.domain.SysUser"
    >
        INSERT INTO sys_user
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="id != null">
                id,
            </if>
            <if test="deptId != null">
                dept_id,
            </if>
            <if test="userName != null">
                user_name,
            </if>
            <if test="password != null">
                password,
            </if>
            <if test="salt != null">
                salt,
            </if>
            <if test="realName != null">
                real_name,
            </if>
            <if test="email != null">
                email,
            </if>
            <if test="avatar != null">
                avatar,
            </if>
            <if test="sex != null">
                sex,
            </if>
            <if test="phone != null">
                phone,
            </if>
            <if test="isEnable != null">
                is_enable,
            </if>
            <if test="isActive != null">
                is_active,
            </if>
            <if test="isLogin != null">
                is_login,
            </if>
            <if test="lastLoginTime != null">
                last_login_time,
            </if>
            <if test="remark != null">
                remark,
            </if>
            <if test="createTime != null">
                create_time,
            </if>
            <if test="createBy != null">
                create_by,
            </if>
            <if test="updateTime != null">
                update_time,
            </if>
            <if test="updateBy != null">
                update_by,
            </if>
        </trim>
        <trim prefix="VALUES (" suffix=")" suffixOverrides=",">
            <if test="id != null" >
                #{id},
            </if>
            <if test="deptId != null" >
                #{deptId},
            </if>
            <if test="userName != null" >
                #{userName},
            </if>
            <if test="password != null" >
                #{password},
            </if>
            <if test="salt != null" >
                #{salt},
            </if>
            <if test="realName != null" >
                #{realName},
            </if>
            <if test="email != null" >
                #{email},
            </if>
            <if test="avatar != null" >
                #{avatar},
            </if>
            <if test="sex != null" >
                #{sex},
            </if>
            <if test="phone != null" >
                #{phone},
            </if>
            <if test="isEnable != null" >
                #{isEnable},
            </if>
            <if test="isActive != null" >
                #{isActive},
            </if>
            <if test="isLogin != null" >
                #{isLogin},
            </if>
            <if test="lastLoginTime != null" >
                #{lastLoginTime},
            </if>
            <if test="remark != null" >
                #{remark},
            </if>
            <if test="createTime != null" >
                #{createTime},
            </if>
            <if test="createBy != null" >
                #{createBy},
            </if>
            <if test="updateTime != null" >
                #{updateTime},
            </if>
            <if test="updateBy != null" >
                #{updateBy},
            </if>
        </trim>
    </insert>

    <!-- 更新不为NULL的字段 -->
    <update id="updateSysUser" parameterType="com.ityueqiangu.project.system.domain.SysUser">
        UPDATE sys_user
        <set>
            <if test="deptId != null" >
                dept_id=#{deptId},
            </if>
            <if test="userName != null" >
                user_name=#{userName},
            </if>
            <if test="password != null" >
                password=#{password},
            </if>
            <if test="salt != null" >
                salt=#{salt},
            </if>
            <if test="realName != null" >
                real_name=#{realName},
            </if>
            <if test="email != null" >
                email=#{email},
            </if>
            <if test="avatar != null" >
                avatar=#{avatar},
            </if>
            <if test="sex != null" >
                sex=#{sex},
            </if>
            <if test="phone != null" >
                phone=#{phone},
            </if>
            <if test="isEnable != null" >
                is_enable=#{isEnable},
            </if>
            <if test="isActive != null" >
                is_active=#{isActive},
            </if>
            <if test="isLogin != null" >
                is_login=#{isLogin},
            </if>
            <if test="lastLoginTime != null" >
                last_login_time=#{lastLoginTime},
            </if>
            <if test="remark != null" >
                remark=#{remark},
            </if>
            <if test="createTime != null" >
                create_time=#{createTime},
            </if>
            <if test="createBy != null" >
                create_by=#{createBy},
            </if>
            <if test="updateTime != null" >
                update_time=#{updateTime},
            </if>
            <if test="updateBy != null" >
                update_by=#{updateBy},
            </if>
        </set>
        WHERE id = #{id}
    </update>

    <!-- 根据主键删除记录 -->
    <delete id="deleteSysUserById" parameterType="String">
        delete from sys_user where id = #{id}
	</delete>

</mapper>