<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE  mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.ityueqiangu.project.system.mapper.SysRoleMapper">
    <resultMap id="BaseResultMap" type="com.ityueqiangu.project.system.domain.SysRole">
        <result column="id" property="id"/>
        <result column="role_name" property="roleName"/>
        <result column="role_code" property="roleCode"/>
        <result column="sort" property="sort"/>
        <result column="is_enable" property="isEnable"/>
        <result column="remark" property="remark"/>
        <result column="is_deleted" property="isDeleted"/>
        <result column="create_by" property="createBy"/>
        <result column="create_time" property="createTime"/>
        <result column="update_by" property="updateBy"/>
        <result column="update_time" property="updateTime"/>
    </resultMap>

    <!-- 表字段 -->
    <sql id="baseColumns">
     t.id
    , t.role_name
    , t.role_code
    , t.sort
    , t.is_enable
    , t.remark
    , t.is_deleted
    , t.create_by
    , t.create_time
    , t.update_by
    , t.update_time
    </sql>

    <!-- 分页查询 -->
    <select id="selectSysRoleList" resultMap="BaseResultMap"
            parameterType="com.ityueqiangu.project.system.domain.SysRole">
        SELECT
        <include refid="baseColumns"/>
        FROM sys_role t
        <trim prefix="WHERE" prefixOverrides="AND | OR">
            <if test="id != null  and id != ''">
                and t.id= #{id}
            </if>
            <if test="roleName != null  and roleName != ''">
                and t.role_name= #{roleName}
            </if>
            <if test="roleCode != null  and roleCode != ''">
                and t.role_code= #{roleCode}
            </if>
            <if test="sort != null  and sort != ''">
                and t.sort= #{sort}
            </if>
            <if test="isEnable != null  and isEnable != ''">
                and t.is_enable= #{isEnable}
            </if>
            <if test="remark != null  and remark != ''">
                and t.remark= #{remark}
            </if>
            <if test="isDeleted != null  and isDeleted != ''">
                and t.is_deleted= #{isDeleted}
            </if>
            <if test="createBy != null  and createBy != ''">
                and t.create_by= #{createBy}
            </if>
            <if test="createTime != null  and createTime != ''">
                and t.create_time= #{createTime}
            </if>
            <if test="updateBy != null  and updateBy != ''">
                and t.update_by= #{updateBy}
            </if>
            <if test="updateTime != null  and updateTime != ''">
                and t.update_time= #{updateTime}
            </if>
        </trim>
    </select>

    <!-- 根据主键获取单条记录 -->
    <select id="selectSysRoleById" resultMap="BaseResultMap" parameterType="Integer">
        SELECT
        <include refid="baseColumns"/>
        FROM sys_role t
        WHERE t.id = #{id}
    </select>
    <select id="getOne" parameterType="com.ityueqiangu.project.system.domain.SysRole" resultMap="BaseResultMap">
        SELECT
        <include refid="baseColumns"/>
        FROM sys_role t
        <where>
            <if test="roleCode != null  and roleCode != ''">
                and t.role_code= #{roleCode}
            </if>
        </where>
    </select>

    <!-- 插入不为NULL的字段 -->
    <insert id="insertSysRole" parameterType="com.ityueqiangu.project.system.domain.SysRole"
            keyProperty="id" keyColumn="id" useGeneratedKeys="true">
        INSERT INTO sys_role
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="roleName != null">
                role_name,
            </if>
            <if test="roleCode != null">
                role_code,
            </if>
            <if test="sort != null">
                sort,
            </if>
            <if test="isEnable != null">
                is_enable,
            </if>
            <if test="remark != null">
                remark,
            </if>
            <if test="isDeleted != null">
                is_deleted,
            </if>
            <if test="createBy != null">
                create_by,
            </if>
            <if test="createTime != null">
                create_time,
            </if>
            <if test="updateBy != null">
                update_by,
            </if>
            <if test="updateTime != null">
                update_time,
            </if>
        </trim>
        <trim prefix="VALUES (" suffix=")" suffixOverrides=",">
            <if test="roleName != null">
                #{roleName},
            </if>
            <if test="roleCode != null">
                #{roleCode},
            </if>
            <if test="sort != null">
                #{sort},
            </if>
            <if test="isEnable != null">
                #{isEnable},
            </if>
            <if test="remark != null">
                #{remark},
            </if>
            <if test="isDeleted != null">
                #{isDeleted},
            </if>
            <if test="createBy != null">
                #{createBy},
            </if>
            <if test="createTime != null">
                #{createTime},
            </if>
            <if test="updateBy != null">
                #{updateBy},
            </if>
            <if test="updateTime != null">
                #{updateTime},
            </if>
        </trim>
    </insert>

    <!-- 更新不为NULL的字段 -->
    <update id="updateSysRole" parameterType="com.ityueqiangu.project.system.domain.SysRole">
        UPDATE sys_role
        <set>
            <if test="roleName != null">
                role_name=#{roleName},
            </if>
            <if test="roleCode != null">
                role_code=#{roleCode},
            </if>
            <if test="sort != null">
                sort=#{sort},
            </if>
            <if test="isEnable != null">
                is_enable=#{isEnable},
            </if>
            <if test="remark != null">
                remark=#{remark},
            </if>
            <if test="isDeleted != null">
                is_deleted=#{isDeleted},
            </if>
            <if test="createBy != null">
                create_by=#{createBy},
            </if>
            <if test="createTime != null">
                create_time=#{createTime},
            </if>
            <if test="updateBy != null">
                update_by=#{updateBy},
            </if>
            <if test="updateTime != null">
                update_time=#{updateTime},
            </if>
        </set>
        WHERE id = #{id}
    </update>

    <!-- 根据主键删除记录 -->
    <delete id="deleteSysRoleById" parameterType="Integer">
        delete from sys_role where id = #{id}
	</delete>

</mapper>